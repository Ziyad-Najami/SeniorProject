
<div *ngIf="this.user_role == 'manager'">
     <p>Welcome, {{LoggedInUser}}!</p> <!-- 3m jeb l user l 3ml log in  Kormal twl3a css-->

    
    
    <table  class="table table-stripped mt-1 ms-1 ">
        <thead class="bg-secondary">
            <th>  ID</th>
            <th>Role</th>
            <th>User Name</th>
            <th>Password</th>
            <th>Full Name</th>
            <th>Action</th>
            
        </thead>

        <tbody>
            <tr *ngFor="let User of Salesman">
                <td> <a routerLink="SalesmanInsight"> <button type="button" class="btn btn-outline-primary">  {{User.id}}  </button> </a> </td>
               
                <td>
                    <ng-container *ngIf="User.role === 1; else salesman">
                      Manager
                    </ng-container>
                    <ng-template #salesman>
                      Salesman
                    </ng-template>
                  </td>
                  
                <td>{{User.username}}</td>
                <td>{{User.password}}</td>
                <td>{{User.full_name}}</td>
                
                <td>
                    
                        |
                    <button class="text-danger bg-white" style="border: none;" (click)="deleteUser(User)">Terminate</button>
                        |
                
                </td>
                
            </tr>

        </tbody>


    </table>

    <div class="position-relative">
        <div class="position-absolute top-10 start-50 translate-middle mt-3">
            <a routerLink="/addUser">
                <button type="button" class="btn btn-outline-primary">  Add User </button>
            </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

            <button class="btn btn-success" (click)="generateExcel()">Export to Excel</button>
            </div>
        </div>
    </div>
    
                    



<!-- here is the form that appears for the salesman user -->
<div *ngIf="user_role === 'salesman'" class="salesman-dashboard">
    <div class="row text-center">
      <div class="col-12">
        <h2>Salesman Dashboard</h2>
        <p>Welcome, {{ LoggedInUser }}!</p>
      </div>
    </div>
  
    <div class="row">
      <div class="col-md-6 col-sm-12">
        <div class="card">
          <div class="card-header">
            <h3>Items with Least Quantity Sold</h3>
          </div>
          <div class="card-body">
            <ul>
             
                {{ leastQuantitySoldItems.description }} - Quantity Sold: {{ leastQuantitySoldItems.total_sales }}
              
            </ul>
            <div *ngIf="!leastQuantitySoldItems">
              No items found.
            </div>
          </div>
        </div>
      </div>
  
      <div class="col-md-6 col-sm-12">
        <div class="card">
          <div class="card-header">
            <h3>Items with Highest Inventory</h3>
          </div>
          <div class="card-body">
            <ul>
             
                {{ highestInventoryItems.description }} - Inventory: {{ highestInventoryItems.inventory }}
            
            </ul>
            <div *ngIf="!highestInventoryItems">
              No items found.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  

